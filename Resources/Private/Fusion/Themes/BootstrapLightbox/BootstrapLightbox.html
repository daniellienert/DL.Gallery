{namespace g = DL\Gallery\ViewHelpers}
{namespace media=Neos\Media\ViewHelpers}

<div {attributes -> f:format.raw()}>
    {backendError -> f:format.raw()}
    <f:if condition="{imagesSelected}">
        <div class="dl-gallery" itemscope itemtype="http://schema.org/ImageGallery">
            <div class="row dl-gallery">
                <g:gallery galleryNode="{node}">
                    <figure {figureAttributes -> f:format.raw()}>
                        <a href="{g:imageData(image:image, theme:selectedTheme, imageVariant:'large', key:'src')}" itemprop="contentUrl" data-size="{g:imageData(image:image, theme:selectedTheme, imageVariant:'large', key:'width')}x{g:imageData(image:image, theme:selectedTheme, imageVariant:'large', key:'height')}">
                            <g:image image="{image}" theme="{selectedTheme}" imageVariant="thumb" additionalAttributes="{itemprop: 'thumbnail'}" async="true"/>
                        </a>
                        <figcaption itemprop="caption description">{g:imageData(image:image, theme:selectedTheme, imageVariant:'large', key:'caption')}</figcaption>
                    </figure>
                </g:gallery>
            </div>
        </div>
    </f:if>
</div>
