{namespace g = DL\Gallery\ViewHelpers}
{namespace media=Neos\Media\ViewHelpers}

<div {attributes -> f:format.raw()}>
    {backendError -> f:format.raw()}
    <f:if condition="{imagesSelected}">
        <g:gallery galleryNode="{node}">
            <figure itemscope itemtype="http://schema.org/ImageObject">
                <a href="{g:imageData(image:image, theme:'justified', imageVariant:'large', key:'src')}" itemprop="contentUrl"
                        data-size="{g:imageData(image:image, theme:'justified', imageVariant:'large', key:'width')}x{g:imageData(image:image, theme:'justified', imageVariant:'large', key:'height')}">
                    <g:image image="{image}" theme="justified" imageVariant="thumb" additionalAttributes="{itemprop: 'thumbnail'}"/>
                </a>
                <figcaption itemprop="caption">{image.title}</figcaption>
            </figure>
        </g:gallery>
        {photoSwipe -> f:format.raw()}
    </f:if>
</div>
